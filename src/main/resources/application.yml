spring:
  application:
    name: dendrite # é¡¹ç›®ä»£å·: æ ‘çª

  # 1. æ•°æ®åº“é…ç½® (PostgreSQL + pgvector)
  datasource:
    # æ³¨æ„: è¿™é‡Œçš„ /dendrite å¯¹åº” compose.yaml é‡Œçš„ POSTGRES_DB
    url: jdbc:postgresql://localhost:5432/dendrite
    username: myuser
    password: secret
    driver-class-name: org.postgresql.Driver

  # 2. JPA & Hibernate é…ç½®
  jpa:
    # è‡ªåŠ¨æ›´æ–°è¡¨ç»“æ„ (å¼€å‘é˜¶æ®µç”¨ updateï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®ç”¨ validate æˆ– none)
    hibernate:
      ddl-auto: update
    show-sql: true # åœ¨æ§åˆ¶å°æ‰“å° SQLï¼Œæ–¹ä¾¿ä½ è§‚å¯Ÿâ€œå›­ä¸â€åœ¨å¹²ä»€ä¹ˆ
    properties:
      hibernate:
        format_sql: true
        # ä½¿ç”¨ PostgreSQL æ–¹è¨€
        dialect: org.hibernate.dialect.PostgreSQLDialect

  # 3. Redis é…ç½® (æ¶ˆæ¯é˜Ÿåˆ—)
  data:
    redis:
      host: localhost
      # âœ… å…³é”®ä¿®æ”¹: è¿™é‡Œå¿…é¡»å¡« 6380ï¼Œå› ä¸ºä½ åœ¨ docker compose é‡Œæ˜ å°„çš„æ˜¯ 6380
      port: 6380
      # å¦‚æœä½ çš„ Redis æ²¡è®¾å¯†ç ï¼Œè¿™é‡Œç•™ç©ºæˆ–æ³¨é‡Šæ‰
      # password:

  # 4. Spring AI é…ç½® (Google Gemini)
  ai:
    google:
      gemini:
        # ğŸ”‘ è¿™é‡Œå¡«ä½ çš„ Keyï¼Œæˆ–è€…åœ¨ç¯å¢ƒå˜é‡é‡Œè®¾ç½® GEMINI_API_KEY
        api-key: ${GEMINI_API_KEY}

        # èŠå¤©æ¨¡å‹é…ç½® (å¤§è„‘)
        chat:
          options:
            # æ¨èç”¨ Flash: é€Ÿåº¦æå¿«ï¼Œä¸”æœ‰ 1M token ä¸Šä¸‹æ–‡ï¼Œéå¸¸é€‚åˆå¤„ç†é•¿æ–‡æ¡£
            model: gemini-1.5-flash
            temperature: 0.3 # 0.3 æ¯”è¾ƒä¸¥è°¨ï¼Œé€‚åˆåšä¿¡æ¯æå–ï¼›0.7 é€‚åˆåˆ›æ„å†™ä½œ

        # å‘é‡æ¨¡å‹é…ç½® (ç¿»è¯‘å®˜)
        embedding:
          options:
            # Google æœ€æ–°çš„åµŒå…¥æ¨¡å‹
            model: text-embedding-004

# 5. æ—¥å¿—çº§åˆ«æ§åˆ¶
logging:
  level:
    org.springframework.ai: DEBUG # å¼€å¯ AI è°ƒè¯•æ—¥å¿—ï¼Œå¯ä»¥çœ‹åˆ°å‘é€ç»™ Google çš„å…·ä½“ Prompt
    org.hibernate.SQL: DEBUG